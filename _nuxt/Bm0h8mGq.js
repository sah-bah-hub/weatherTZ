var pe=Object.defineProperty;var me=(t,n,a)=>n in t?pe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var x=(t,n,a)=>me(t,typeof n!="symbol"?n+"":n,a);import{a as ye,L as $,r as k,M as ge,N as we,O as ve,P as _e,G as H,Q as X,R as be,S,K as xe,T as Se,i as ae,U as O,V as Le,W as Ce,X as Me,d as A,t as M,v as N,x as y,Y as re,Z as ke,$ as ie,a0 as R,a1 as ee,a2 as q,a3 as G,a4 as J,y as C,a5 as Be,a6 as F,B as Y,z as Ne,a7 as Ee,o as Ie,a8 as U}from"./LdgsdxKK.js";const te=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function Te(t,n){n?n={...te,...n}:n=te;const a=oe(n);return a.dispatch(t),a.toString()}const De=Object.freeze(["prototype","__proto__","constructor"]);function oe(t){let n="",a=new Map;const s=e=>{n+=e};return{toString(){return n},getContext(){return a},dispatch(e){return t.replacer&&(e=t.replacer(e)),this[e===null?"null":typeof e](e)},object(e){if(e&&typeof e.toJSON=="function")return this.object(e.toJSON());const r=Object.prototype.toString.call(e);let o="";const h=r.length;h<10?o="unknown:["+r+"]":o=r.slice(8,h-1),o=o.toLowerCase();let u=null;if((u=a.get(e))===void 0)a.set(e,a.size);else return this.dispatch("[CIRCULAR:"+u+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(e))return s("buffer:"),s(e.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")this[o]?this[o](e):t.ignoreUnknown||this.unkown(e,o);else{let g=Object.keys(e);t.unorderedObjects&&(g=g.sort());let v=[];t.respectType!==!1&&!se(e)&&(v=De),t.excludeKeys&&(g=g.filter(c=>!t.excludeKeys(c)),v=v.filter(c=>!t.excludeKeys(c))),s("object:"+(g.length+v.length)+":");const f=c=>{this.dispatch(c),s(":"),t.excludeValues||this.dispatch(e[c]),s(",")};for(const c of g)f(c);for(const c of v)f(c)}},array(e,r){if(r=r===void 0?t.unorderedArrays!==!1:r,s("array:"+e.length+":"),!r||e.length<=1){for(const u of e)this.dispatch(u);return}const o=new Map,h=e.map(u=>{const g=oe(t);g.dispatch(u);for(const[v,f]of g.getContext())o.set(v,f);return g.toString()});return a=o,h.sort(),this.array(h,!1)},date(e){return s("date:"+e.toJSON())},symbol(e){return s("symbol:"+e.toString())},unkown(e,r){if(s(r),!!e&&(s(":"),e&&typeof e.entries=="function"))return this.array(Array.from(e.entries()),!0)},error(e){return s("error:"+e.toString())},boolean(e){return s("bool:"+e)},string(e){s("string:"+e.length+":"),s(e)},function(e){s("fn:"),se(e)?this.dispatch("[native]"):this.dispatch(e.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(e.name)),t.respectFunctionProperties&&this.object(e)},number(e){return s("number:"+e)},xml(e){return s("xml:"+e.toString())},null(){return s("Null")},undefined(){return s("Undefined")},regexp(e){return s("regex:"+e.toString())},uint8array(e){return s("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},uint8clampedarray(e){return s("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},int8array(e){return s("int8array:"),this.dispatch(Array.prototype.slice.call(e))},uint16array(e){return s("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},int16array(e){return s("int16array:"),this.dispatch(Array.prototype.slice.call(e))},uint32array(e){return s("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},int32array(e){return s("int32array:"),this.dispatch(Array.prototype.slice.call(e))},float32array(e){return s("float32array:"),this.dispatch(Array.prototype.slice.call(e))},float64array(e){return s("float64array:"),this.dispatch(Array.prototype.slice.call(e))},arraybuffer(e){return s("arraybuffer:"),this.dispatch(new Uint8Array(e))},url(e){return s("url:"+e.toString())},map(e){s("map:");const r=[...e];return this.array(r,t.unorderedSets!==!1)},set(e){s("set:");const r=[...e];return this.array(r,t.unorderedSets!==!1)},file(e){return s("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},blob(){if(t.ignoreUnknown)return s("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return s("domwindow")},bigint(e){return s("bigint:"+e.toString())},process(){return s("process")},timer(){return s("timer")},pipe(){return s("pipe")},tcp(){return s("tcp")},udp(){return s("udp")},tty(){return s("tty")},statwatcher(){return s("statwatcher")},securecontext(){return s("securecontext")},connection(){return s("connection")},zlib(){return s("zlib")},context(){return s("context")},nodescript(){return s("nodescript")},httpparser(){return s("httpparser")},dataview(){return s("dataview")},signal(){return s("signal")},fsevent(){return s("fsevent")},tlswrap(){return s("tlswrap")}}}const ce="[native code] }",ze=ce.length;function se(t){return typeof t!="function"?!1:Function.prototype.toString.call(t).slice(-ze)===ce}class I{constructor(n,a){n=this.words=n||[],this.sigBytes=a===void 0?n.length*4:a}toString(n){return(n||Oe).stringify(this)}concat(n){if(this.clamp(),this.sigBytes%4)for(let a=0;a<n.sigBytes;a++){const s=n.words[a>>>2]>>>24-a%4*8&255;this.words[this.sigBytes+a>>>2]|=s<<24-(this.sigBytes+a)%4*8}else for(let a=0;a<n.sigBytes;a+=4)this.words[this.sigBytes+a>>>2]=n.words[a>>>2];return this.sigBytes+=n.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new I([...this.words])}}const Oe={stringify(t){const n=[];for(let a=0;a<t.sigBytes;a++){const s=t.words[a>>>2]>>>24-a%4*8&255;n.push((s>>>4).toString(16),(s&15).toString(16))}return n.join("")}},He={stringify(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=[];for(let s=0;s<t.sigBytes;s+=3){const e=t.words[s>>>2]>>>24-s%4*8&255,r=t.words[s+1>>>2]>>>24-(s+1)%4*8&255,o=t.words[s+2>>>2]>>>24-(s+2)%4*8&255,h=e<<16|r<<8|o;for(let u=0;u<4&&s*8+u*6<t.sigBytes*8;u++)a.push(n.charAt(h>>>6*(3-u)&63))}return a.join("")}},$e={parse(t){const n=t.length,a=[];for(let s=0;s<n;s++)a[s>>>2]|=(t.charCodeAt(s)&255)<<24-s%4*8;return new I(a,n)}},We={parse(t){return $e.parse(unescape(encodeURIComponent(t)))}};class Fe{constructor(){this._data=new I,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new I,this._nDataBytes=0}_append(n){typeof n=="string"&&(n=We.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes}_doProcessBlock(n,a){}_process(n){let a,s=this._data.sigBytes/(this.blockSize*4);n?s=Math.ceil(s):s=Math.max((s|0)-this._minBufferSize,0);const e=s*this.blockSize,r=Math.min(e*4,this._data.sigBytes);if(e){for(let o=0;o<e;o+=this.blockSize)this._doProcessBlock(this._data.words,o);a=this._data.words.splice(0,e),this._data.sigBytes-=r}return new I(a,r)}}class Ve extends Fe{update(n){return this._append(n),this._process(),this}finalize(n){n&&this._append(n)}}const ne=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Pe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],z=[];class Ae extends Ve{constructor(){super(...arguments),this._hash=new I([...ne])}reset(){super.reset(),this._hash=new I([...ne])}_doProcessBlock(n,a){const s=this._hash.words;let e=s[0],r=s[1],o=s[2],h=s[3],u=s[4],g=s[5],v=s[6],f=s[7];for(let c=0;c<64;c++){if(c<16)z[c]=n[a+c]|0;else{const m=z[c-15],B=(m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3,b=z[c-2],T=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;z[c]=B+z[c-7]+T+z[c-16]}const l=u&g^~u&v,d=e&r^e&o^r&o,i=(e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22),p=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),_=f+p+l+Pe[c]+z[c],w=i+d;f=v,v=g,g=u,u=h+_|0,h=o,o=r,r=e,e=_+w|0}s[0]=s[0]+e|0,s[1]=s[1]+r|0,s[2]=s[2]+o|0,s[3]=s[3]+h|0,s[4]=s[4]+u|0,s[5]=s[5]+g|0,s[6]=s[6]+v|0,s[7]=s[7]+f|0}finalize(n){super.finalize(n);const a=this._nDataBytes*8,s=this._data.sigBytes*8;return this._data.words[s>>>5]|=128<<24-s%32,this._data.words[(s+64>>>9<<4)+14]=Math.floor(a/4294967296),this._data.words[(s+64>>>9<<4)+15]=a,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function je(t){return new Ae().finalize(t).toString(He)}function Re(t,n={}){const a=typeof t=="string"?t:Te(t,n);return je(a).slice(0,10)}const Ue=t=>t==="defer"||t===!1;function Je(...t){var i;const n=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(n);let[a,s,e={}]=t;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const r=ye(),o=s,h=()=>$.value,u=()=>r.isHydrating?r.payload.data[a]:r.static.data[a];e.server=e.server??!0,e.default=e.default??h,e.getCachedData=e.getCachedData??u,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??$.deep,e.dedupe=e.dedupe??"cancel";const g=e.getCachedData(a,r),v=g!=null;if(!r._asyncData[a]||!e.immediate){(i=r.payload._errors)[a]??(i[a]=$.errorValue);const p=e.deep?k:ge;r._asyncData[a]={data:p(v?g:e.default()),pending:k(!v),error:we(r.payload._errors,a),status:k("idle"),_default:e.default}}const f={...r._asyncData[a]};delete f._default,f.refresh=f.execute=(p={})=>{if(r._asyncDataPromises[a]){if(Ue(p.dedupe??e.dedupe))return r._asyncDataPromises[a];r._asyncDataPromises[a].cancelled=!0}if(p._initial||r.isHydrating&&p._initial!==!1){const w=p._initial?g:e.getCachedData(a,r);if(w!=null)return Promise.resolve(w)}f.pending.value=!0,f.status.value="pending";const _=new Promise((w,m)=>{try{w(o(r))}catch(B){m(B)}}).then(async w=>{if(_.cancelled)return r._asyncDataPromises[a];let m=w;e.transform&&(m=await e.transform(w)),e.pick&&(m=Ze(m,e.pick)),r.payload.data[a]=m,f.data.value=m,f.error.value=$.errorValue,f.status.value="success"}).catch(w=>{if(_.cancelled)return r._asyncDataPromises[a];f.error.value=be(w),f.data.value=S(e.default()),f.status.value="error"}).finally(()=>{_.cancelled||(f.pending.value=!1,delete r._asyncDataPromises[a])});return r._asyncDataPromises[a]=_,r._asyncDataPromises[a]},f.clear=()=>Ye(r,a);const c=()=>f.refresh({_initial:!0}),l=e.server!==!1&&r.payload.serverRendered;{const p=xe();if(p&&!p._nuxtOnBeforeMountCbs){p._nuxtOnBeforeMountCbs=[];const m=p._nuxtOnBeforeMountCbs;ve(()=>{m.forEach(B=>{B()}),m.splice(0,m.length)}),_e(()=>m.splice(0,m.length))}l&&r.isHydrating&&(f.error.value||g!=null)?(f.pending.value=!1,f.status.value=f.error.value?"error":"success"):p&&(r.payload.serverRendered&&r.isHydrating||e.lazy)&&e.immediate?p._nuxtOnBeforeMountCbs.push(c):e.immediate&&c();const _=Se();if(e.watch){const m=H(e.watch,()=>f.refresh());_&&X(m)}const w=r.hook("app:data:refresh",async m=>{(!m||m.includes(a))&&await f.refresh()});_&&X(w)}const d=Promise.resolve(r._asyncDataPromises[a]).then(()=>f);return Object.assign(d,f),d}function Ye(t,n){n in t.payload.data&&(t.payload.data[n]=void 0),n in t.payload._errors&&(t.payload._errors[n]=$.errorValue),t._asyncData[n]&&(t._asyncData[n].data.value=void 0,t._asyncData[n].error.value=$.errorValue,t._asyncData[n].pending.value=!1,t._asyncData[n].status.value="idle"),n in t._asyncDataPromises&&(t._asyncDataPromises[n]&&(t._asyncDataPromises[n].cancelled=!0),t._asyncDataPromises[n]=void 0)}function Ze(t,n){const a={};for(const s of n)a[s]=t[s];return a}function Z(t,n,a){const[s={},e]=typeof n=="string"?[{},n]:[n,a],r=ae(()=>O(t)),o=s.key||Re([e,typeof r.value=="string"?r.value:"",...qe(s)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!t)throw new Error("[nuxt] [useFetch] request is missing.");const h=o===e?"$f"+o:o;if(!s.baseURL&&typeof r.value=="string"&&r.value[0]==="/"&&r.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:u,lazy:g,default:v,transform:f,pick:c,watch:l,immediate:d,getCachedData:i,deep:p,dedupe:_,...w}=s,m=Le({...Ce,...w,cache:typeof s.cache=="boolean"?void 0:s.cache}),B={server:u,lazy:g,default:v,transform:f,pick:c,immediate:d,getCachedData:i,deep:p,dedupe:_,watch:l===!1?[]:[m,r,...l||[]]};let b;return Je(h,()=>{var P;(P=b==null?void 0:b.abort)==null||P.call(b,"Request aborted as another request to the same endpoint was initiated."),b=typeof AbortController<"u"?new AbortController:{};const D=O(s.timeout);let L;return D&&(L=setTimeout(()=>b.abort("Request aborted due to timeout."),D),b.signal.onabort=()=>clearTimeout(L)),(s.$fetch||globalThis.$fetch)(r.value,{signal:b.signal,...m}).finally(()=>{clearTimeout(L)})},B)}function qe(t){var a;const n=[((a=O(t.method))==null?void 0:a.toUpperCase())||"GET",O(t.baseURL)];for(const s of[t.params||t.query]){const e=O(s);if(!e)continue;const r={};for(const[o,h]of Object.entries(e))r[O(o)]=O(h);n.push(r)}return n}const Ge="data:image/svg+xml,%3csvg%20width='16px'%20height='16px'%20viewBox='0%200%2016%2016'%20class='bi%20bi-arrow-return-left'%20fill='currentColor'%20xmlns='http://www.w3.org/2000/svg'%20style='fill:%20%234d4c4b'%3e%3cpath%20fill-rule='evenodd'%20d='M14.5%201.5a.5.5%200%200%201%20.5.5v4.8a2.5%202.5%200%200%201-2.5%202.5H2.707l3.347%203.346a.5.5%200%200%201-.708.708l-4.2-4.2a.5.5%200%200%201%200-.708l4-4a.5.5%200%201%201%20.708.708L2.707%208.3H12.5A1.5%201.5%200%200%200%2014%206.8V2a.5.5%200%200%201%20.5-.5z'/%3e%3c/svg%3e";class le{constructor(n){x(this,"name");x(this,"lat");x(this,"lon");n.country?this.name=`${n.name}, ${n.country}`:this.name=n.name,this.lat=n.lat||n.coord.lat,this.lon=n.lon||n.coord.lon}}var de=(t=>(t[t.N=0]="N",t[t.NNE=1]="NNE",t[t.NE=2]="NE",t[t.ENE=3]="ENE",t[t.E=4]="E",t[t.ESE=5]="ESE",t[t.SE=6]="SE",t[t.SSE=7]="SSE",t[t.S=8]="S",t[t.SSW=9]="SSW",t[t.SW=10]="SW",t[t.WSW=11]="WSW",t[t.W=12]="W",t[t.WNW=13]="WNW",t[t.NW=14]="NW",t[t.NNW=15]="NNW",t))(de||{});function Ke(){var a;if(window){var t=window.localStorage.getItem("locations"),n=t==null||t==null?0:(a=window.localStorage.getItem("locations"))==null?void 0:a.length;return()=>(n++,n-1)}}const Qe=Ke();class ue{constructor(n){x(this,"name");x(this,"index");x(this,"imgSrc");x(this,"temperature");x(this,"temperatureF");x(this,"feelsLike");x(this,"feelsLikeF");x(this,"description");x(this,"windType");x(this,"wind");x(this,"pressure");x(this,"humidity");x(this,"dewPoint");x(this,"visibility");x(this,"updateTime");x(this,"coord");this.name=`${n.name}, ${n.sys.country}`,this.index=Qe(),this.imgSrc=`http://openweathermap.org/img/wn/${n.weather[0].icon}@2x.png`,this.temperature=n.main.temp.toFixed(1),this.temperatureF=(n.main.temp*(9/5)+32).toFixed(1),this.feelsLike=n.main.feels_like.toFixed(1),this.feelsLikeF=(n.main.feels_like*(9/5)+32).toFixed(1),this.description=n.weather[0].description,this.windType="";var a=n.wind.speed/1e3*3600;switch(!0){case a<2:this.windType="calm";break;case a<5:this.windType="Light air";break;case a<11:this.windType="Light breeze";break;case a<19:this.windType="Gentle breeze";break;case a<28:this.windType="Moderate breeze";break;case a<38:this.windType="Fresh breeze";break;case a<49:this.windType="Strong breeze";break;case a<61:this.windType="High wind";break;case a<74:this.windType="Gale";break;case a<88:this.windType="Strong gale";break;case a<102:this.windType="Storm";break;case a<117:this.windType="Violent storm";break;default:this.windType="Hurricane force"}this.wind={speed:n.wind.speed.toFixed(1),deg:n.wind.deg,direction:de[Math.round((n.wind.deg-22.5)/22.5)]},this.pressure=n.main.pressure,this.humidity=n.main.humidity;var s=17.27*n.main.temp/(237.7+n.main.temp)+Math.log(n.main.humidity/100);this.dewPoint=Math.round(237.7*s/(17.27-s)),this.visibility=n.visibility/1e3,this.updateTime=new Date().toJSON(),this.coord=n.coord}}const j=Me("Store",()=>{const t=k([]),n=k("C"),a=k([]);H(t,h=>{window.localStorage.setItem("locations",JSON.stringify(h))},{deep:!0}),H(n,h=>{window.localStorage.setItem("measurement",JSON.stringify(h))}),H(a,h=>{window.localStorage.setItem("searchHistory",JSON.stringify(h))},{deep:!0});const s=async h=>{try{let u=`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=e8157b3a99bf0d5c82e7c5b17138366c&units=metric`;const{data:g,error:v}=await Z(u,"$NV04Wwn8EP"),f=g.value;f?(r(h),o(new ue(f))):console.error("Ошибка в ответе при получении данных:",v.value)}catch(u){u.response?console.error("Ошибка ответа сервера:",u.response.status,u.response.data):u.request?console.error("Ошибка запроса:",u.request):console.error("Неизвестная ошибка:",u.message)}},e=()=>{t.value.sort((h,u)=>h.index-u.index)},r=h=>{t.value=t.value.filter(u=>u!=h)},o=h=>{t.value.push(h)};return{locationArray:t,measurement:n,searchHistory:a,sortCities:e,deliteCity:r,addLocation:o,updateWeater:s}}),Xe={class:"find-component"},et=y("div",{class:"find-component__title"}," Add location:",-1),tt={class:"find-component__search-container"},st={class:"find-component__input-container"},nt=["placeholder"],at={class:"find-component__sities"},rt=["onClick"],it=y("img",{class:"find-component__enter",src:Ge,alt:"enter icon"},null,-1),he=A({__name:"FindCity",props:["placeholder"],setup(t){const n=j(),a=t,s=k(""),e=k([]),r=k(""),o=k(!1);H(s,l=>{if(l!=""){c(l);return}e.value=[]});const h=ae(()=>o.value&&!s.value?n.searchHistory.filter(l=>!n.locationArray.map(d=>d.name).includes(l.name)):e.value),u=()=>{setTimeout(()=>o.value=!1,150)},g=l=>{if(!(e.value.length-1))return;let d=document.querySelector(".find-component__input-container .find-component__sity--selected");const i=l=="down"?1:-1;if(d==null){const B=l=="down"?"first-child":"last-child";d=document.querySelector(`.find-component__sities p:${B}`),r.value=d.innerText;return}var p=d.parentElement;let _=Array.from(p.childNodes);var w=_.indexOf(d),m=w+i;switch(!0){case m<0:m=p.childNodes.length-1;break;case m>p.childNodes.length-1:m=0;break}r.value=_[m].innerText},v=l=>{if(l!=null&&l.lat&&(l!=null&&l.lon)){f(l.lat,l.lon);return}if(h.value.length!=0){var d=null,i=document.querySelector(".find-component__input-container .find-component__sity--selected");i==null?d=e.value[0]:d=e.value.find(p=>p.name==i.innerText),f(d.lat,d.lon)}},f=async(l,d)=>{try{let i=`https://api.openweathermap.org/data/2.5/weather?lat=${l}&lon=${d}&appid=e8157b3a99bf0d5c82e7c5b17138366c&units=metric`;const{data:p,error:_}=await Z(i,"$UFWEJiuFPa"),w=p.value;w?(n.addLocation(new ue(w)),s.value=""):console.error("Ошибка в ответе при получении данных:",_.value)}catch(i){i.response?console.error("Ошибка ответа сервера:",i.response.status,i.response.data):i.request?console.error("Ошибка запроса:",i.request):console.error("Неизвестная ошибка:",i.message)}},c=async l=>{try{let i=`https://api.openweathermap.org/geo/1.0/direct?q=${l}&limit=5&appid=e8157b3a99bf0d5c82e7c5b17138366c`;const{data:p,error:_}=await Z(i,"$VH83xdDV7C"),w=p.value;if(w){var d=[];w.forEach(m=>{d.push(new le(m))}),e.value=d}else console.error("Ошибка в ответе при получении данных:",_.value)}catch(i){i.response?console.error("Ошибка ответа сервера:",i.response.status,i.response.data):i.request?console.error("Ошибка запроса:",i.request):console.error("Неизвестная ошибка:",i.message)}};return(l,d)=>(M(),N("div",Xe,[et,y("div",tt,[y("div",st,[re(y("input",{class:"find-component__input",type:"text","onUpdate:modelValue":d[0]||(d[0]=i=>ie(s)?s.value=i:null),placeholder:a.placeholder,onKeyup:[R(v,["enter"]),d[1]||(d[1]=R(ee(i=>g("up"),["prevent"]),["up"])),d[2]||(d[2]=R(ee(i=>g("down"),["prevent"]),["down"]))],onFocusin:d[3]||(d[3]=i=>o.value=!0),onFocusout:d[4]||(d[4]=()=>u())},null,40,nt),[[ke,S(s)]]),y("div",at,[(M(!0),N(q,null,G(S(h),(i,p)=>(M(),N("p",{class:J(["find-component__sity",S(r)===i.name?"find-component__sity--selected":""]),onClick:_=>v(i),key:p+i.lat},C(i.name),11,rt))),128))])]),it])]))}}),ot="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20style='fill:%20%234d4c4b'%3e%3cpath%20d='M24%2013.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433%201.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582%201.635-.749%202.692-2.019%203.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285%202.285c.745%201.568%201.375%202.434.847%203.707-.527%201.271-1.584%201.438-3.219%202.02v3.232c1.632.58%202.692.749%203.219%202.019.53%201.282-.114%202.166-.847%203.707l2.285%202.286c1.562-.743%202.434-1.375%203.707-.847h.001c1.27.526%201.436%201.579%202.019%203.219h3.232c.582-1.636.75-2.69%202.027-3.222h.001c1.262-.524%202.12.101%203.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271%201.588-1.44%203.221-2.021zm-12%202.384c-2.209%200-4-1.791-4-4s1.791-4%204-4%204%201.791%204%204-1.791%204-4%204z'/%3e%3c/svg%3e",ct="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyBmaWxsOkRhcmtHcmF5ICIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNNCwxMGgyNGMxLjEwNCwwLDItMC44OTYsMi0ycy0wLjg5Ni0yLTItMkg0QzIuODk2LDYsMiw2Ljg5NiwyLDhTMi44OTYsMTAsNCwxMHogTTI4LDE0SDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDIgIHMwLjg5NiwyLDIsMmgyNGMxLjEwNCwwLDItMC44OTYsMi0yUzI5LjEwNCwxNCwyOCwxNHogTTI4LDIySDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDJzMC44OTYsMiwyLDJoMjRjMS4xMDQsMCwyLTAuODk2LDItMiAgUzI5LjEwNCwyMiwyOCwyMnoiLz48L3N2Zz4=",lt="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20110.61%20122.88'%20style='fill:%234d4c4b'%3e%3ctitle%3etrash%3c/title%3e%3cpath%20d='M39.27,58.64a4.74,4.74,0,1,1,9.47,0V93.72a4.74,4.74,0,1,1-9.47,0V58.64Zm63.6-19.86L98,103a22.29,22.29,0,0,1-6.33,14.1,19.41,19.41,0,0,1-13.88,5.78h-45a19.4,19.4,0,0,1-13.86-5.78l0,0A22.31,22.31,0,0,1,12.59,103L7.74,38.78H0V25c0-3.32,1.63-4.58,4.84-4.58H27.58V10.79A10.82,10.82,0,0,1,38.37,0H72.24A10.82,10.82,0,0,1,83,10.79v9.62h23.35a6.19,6.19,0,0,1,1,.06A3.86,3.86,0,0,1,110.59,24c0,.2,0,.38,0,.57V38.78Zm-9.5.17H17.24L22,102.3a12.82,12.82,0,0,0,3.57,8.1l0,0a10,10,0,0,0,7.19,3h45a10.06,10.06,0,0,0,7.19-3,12.8,12.8,0,0,0,3.59-8.1L93.37,39ZM71,20.41V12.05H39.64v8.36ZM61.87,58.64a4.74,4.74,0,1,1,9.47,0V93.72a4.74,4.74,0,1,1-9.47,0V58.64Z'/%3e%3c/svg%3e",dt={class:"settings"},ut={class:"settings__header"},ht=y("div",{class:"settings__title"},"Setting",-1),ft={key:0},pt=y("div",{class:"settings__title"},"Units of measurement:",-1),mt={class:"settings__units"},yt={class:"switch"},gt=y("span",{class:"slider round"},null,-1),wt={key:1,class:"settings__body"},vt=y("div",{class:"settings__title"},"Cities:",-1),_t=["onClick"],bt=A({__name:"Settings",emits:["openOption"],setup(t,{emit:n}){const a=j(),s=n,e=k(!1),r=k([]),o=k(a.measurement==="C"),h=c=>{var l;!r.value.find(d=>d===c)&&c&&((l=r.value)==null||l.push(c))};H(e,()=>{r.value=[]}),H(o,c=>{a.measurement=c?"C":"F"});const u=c=>{a.deliteCity(c),a.searchHistory.find(l=>l.name==c.name)||(a.searchHistory.length>=5&&a.searchHistory.pop(),a.searchHistory.push(new le(c)))},g=(c,l,d)=>{let i=c;return i>d?i=d:i<l&&(i=l),i},v=c=>{var m,B;c.preventDefault();const l=c.pageY||((m=c.changedTouches[0])==null?void 0:m.pageY);let d=0;const i=(B=c.target)==null?void 0:B.parentElement.parentElement,p=r.value.length;let _=r.value.indexOf(i);var w=0;if(i.parentElement.childNodes.length!=1){let b=function(D){window.removeEventListener("mouseup",b,!1),window.removeEventListener("mousemove",T,!1),window.removeEventListener("touchend",b,!1),window.removeEventListener("touchmove",T,!1),i.classList.remove("dragging"),r.value.forEach(L=>{L.style.transform="",L.style.transition="0s"}),a.locationArray[_].index=w>_?w+.5:w-.5,a.sortCities(),a.locationArray.forEach((L,V)=>{L.index=V}),setTimeout(()=>{r.value.forEach(L=>{L.style.transition=""})},1)},T=function(D){var Q;var L=i.parentElement.offsetHeight/p,V=i.parentElement.offsetHeight,P=V-L*(_+1),fe=L*_*-1;d=g((D.pageY||((Q=D.changedTouches[D.changedTouches.length-1])==null?void 0:Q.pageY))-l,fe,P);var K=Math.round(d/L);switch(w=g(Math.round(d/L)+_,0,p-1),r.value[w].style.transform=`translateY(${g(K,-1,1)*L*-1}px)`,!0){case K==0:r.value.forEach(E=>{E!=i&&(E.style.transform="")});break;case w<_:for(let E=0;E<w;E++){var W=r.value[E];W.style.transform!=""&&(W.style.transform="")}break;case w>_:for(let E=p-1;E>w;E--){var W=r.value[E];W.style.transform!=""&&(W.style.transform="")}break}i.style.transform=`translateY(${d}px)`};i.classList.add("dragging"),window.addEventListener("mousemove",T,!1),window.addEventListener("touchmove",T,!1),window.addEventListener("mouseup",b,!1),window.addEventListener("touchend",b,!1)}},f=c=>{var d;const l=(d=c.parentNode)==null?void 0:d.parentNode;if(e.value){e.value=!1,s("openOption",!1),l.classList.remove("settings--active");return}e.value=!0,s("openOption",!0),l.classList.add("settings--active")};return(c,l)=>{const d=he;return M(),N("div",dt,[y("div",ut,[ht,y("img",{class:"settings__ico",src:ot,onClick:l[0]||(l[0]=i=>f(i.target))})]),S(e)?(M(),N("div",ft,[pt,y("div",mt,[y("span",{class:J(["settings__unit-f",S(o)?"":"settings__unit-f--active"])}," °F ",2),y("label",yt,[re(y("input",{type:"checkbox","onUpdate:modelValue":l[1]||(l[1]=i=>ie(o)?o.value=i:null)},null,512),[[Be,S(o)]]),gt]),y("span",{class:J(["settings__unit-c",S(o)?"settings__unit-c--active":""])}," °C ",2)])])):F("",!0),S(e)?(M(),N("div",wt,[vt,y("div",null,[(M(!0),N(q,null,G(S(a).locationArray,i=>(M(),N("div",{class:"settings__city",key:i.cityName,ref_for:!0,ref:h},[y("div",null,[y("img",{class:"settings__hamburger",src:ct,onMousedown:l[2]||(l[2]=p=>v(p)),onTouchstart:l[3]||(l[3]=p=>v(p))},null,32),Y(" "+C(i.name),1)]),y("img",{class:"settings__trash",src:lt,onClick:p=>u(i)},null,8,_t)]))),128))]),Ne(d,{placeholder:"What is your position"})])):F("",!0)])}}}),xt="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20style='transform:%20rotate(135deg);fill:%20%234d4c4b'%20baseProfile='tiny'%20height='24px'%20id='Layer_1'%20version='1.2'%20viewBox='2%202%2020%2020'%20width='24px'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cpath%20d='M10.368,19.102c0.349,1.049,1.011,1.086,1.478,0.086l5.309-11.375c0.467-1.002,0.034-1.434-0.967-0.967L4.812,12.154%20c-1.001,0.467-0.963,1.129,0.085,1.479L9,15L10.368,19.102z'/%3e%3c/g%3e%3c/svg%3e",St="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Svg%20Vector%20Icons%20:%20http://www.onlinewebfonts.com/icon%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20style='fill:%20%234d4c4b'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%201000%201000'%20enable-background='new%200%200%201000%201000'%20xml:space='preserve'%3e%3cmetadata%3e%20Svg%20Vector%20Icons%20:%20http://www.onlinewebfonts.com/icon%20%3c/metadata%3e%3cg%3e%3cpath%20d='M500,10C229.4,10,10,229.4,10,500c0,270.6,219.4,490,490,490c270.6,0,490-219.4,490-490C990,229.4,770.6,10,500,10L500,10z%20M793.8,793.8c-38.2,38.2-82.6,68.1-132.1,89.1c-51.2,21.6-105.6,32.6-161.7,32.6s-110.5-11-161.7-32.6c-49.5-20.9-93.9-50.9-132.1-89.1c-38.2-38.2-68.1-82.6-89.1-132.1C95.5,610.5,84.5,556.1,84.5,500c0-56.1,11-110.5,32.6-161.7c20.9-49.5,50.9-93.9,89.1-132.1c38.2-38.2,82.6-68.1,132.1-89.1C389.5,95.5,443.9,84.5,500,84.5s110.5,11,161.7,32.6c49.5,20.9,93.9,50.9,132.1,89.1c38.2,38.2,68.2,82.6,89.1,132.1c21.6,51.2,32.6,105.6,32.6,161.7c0,56.1-11,110.5-32.6,161.7C861.9,711.2,832,755.6,793.8,793.8L793.8,793.8z%20M648.5,174c-74.7-34-159.5-41.3-238.8-20.6c-71.5,18.7-137,60.2-184.5,116.9c-49.8,59.5-79.2,134.9-82.9,212.4c-3.8,79.1,19.1,158.2,64.4,222.8l60-38l-28.3-48.2l-28.9,16.9c-22-47.1-32.5-99.4-30-151.7c2-41.5,12.2-82.3,29.6-119.8l30.2,16.8l27.1-48.9l-29.5-16.3c5.3-7.6,10.9-14.9,16.8-22.1c35.7-42.7,82.9-75.8,135.1-95.2l24.5,238.4c-14.3,18.7-22.8,42-22.8,67.3c0,61.3,49.6,110.9,110.9,110.9c61.2,0,110.8-49.6,110.8-110.9c0-52.8-36.9-96.9-86.4-108.1L393.8,197.2c8.3-2.9,16.7-5.5,25.2-7.7c17.7-4.6,35.7-7.7,53.9-9.2l0.3,35.9l55.9-0.5l-0.3-35.2c35.8,3.2,71.1,12.4,104.2,27.5c51.6,23.5,96.9,61.3,129.7,107.8l-30.4,17.8l28.3,48.2l30.2-17.7c25.8,55.3,35.4,117.7,27.2,178.7c-4.4,33-14.2,65.4-28.7,95.6L759.6,622l-27.1,48.9l60,35.5c33.2-47.2,54.7-102,62.3-158.6c10.6-79.1-5.7-160.4-45.9-228.9C771.9,255.7,714.9,204.2,648.5,174L648.5,174z%20M501.5,448.9c30.8,0,55.9,25,55.9,55.8s-25.1,55.9-55.9,55.9c-30.8,0-55.9-25-55.9-55.9S470.6,448.9,501.5,448.9z'/%3e%3c/g%3e%3c/svg%3e",Lt={class:"weather-info"},Ct={class:"weather-info__header"},Mt={class:"weather-info__img-container"},kt=["src"],Bt={class:"weather-info__temerature"},Nt={class:"weather-info__description"},Et={class:"weather-info__body"},It=y("img",{src:St},null,-1),Tt=A({__name:"WeatherInfo",props:["element"],setup(t){const n=j();return(a,s)=>(M(),N("div",Lt,[y("div",Ct,C(t.element.name),1),y("div",Mt,[y("img",{class:"weather-info__icon",src:t.element.imgSrc,alt:""},null,8,kt),y("div",Bt,C(S(n).measurement==="C"?t.element.temperature:t.element.temperatureF)+" °"+C(S(n).measurement),1)]),y("p",Nt," Feels like "+C(S(n).measurement==="C"?t.element.feelsLike:t.element.feelsLikeF)+"°"+C(S(n).measurement)+". "+C(t.element.description)+". "+C(t.element.windType),1),y("div",Et,[y("div",null,[y("div",null,[y("img",{style:Ee("transform: rotate("+t.element.wind.deg+"deg);"),class:"weather-info__description-ico",src:xt},null,4),Y(" "+C(t.element.wind.speed)+"m/s "+C(t.element.wind.direction),1)]),y("div",null,[It,Y(" "+C(t.element.pressure)+"hPa ",1)])]),y("div",null,[y("div",null,"Humidity: "+C(t.element.humidity)+"%",1),y("div",null,"Dew point: "+C(t.element.dewPoint)+"°C",1)]),y("div",null,"Visibility: "+C(t.element.visibility)+"km",1)])]))}}),Dt=window.setInterval,zt={class:"container"},$t=A({__name:"index",setup(t){const n=j(),a=k(!1);Ie(()=>{const r=JSON.parse(window.localStorage.getItem("locations")),o=JSON.parse(window.localStorage.getItem("measurement")),h=JSON.parse(window.localStorage.getItem("searchHistory"));r!=null&&(n.locationArray=r),o!=null&&(n.measurement=o),h!=null&&(n.searchHistory=h),s(),Dt(async()=>{s()},36e5)});const s=async()=>{for(const r of n.locationArray)r.updateTime&&new Date(r.updateTime)<new Date(new Date().setHours(new Date().getHours()-1))&&await n.updateWeater(r)},e=r=>{a.value=r};return(r,o)=>{const h=he,u=bt,g=Tt;return M(),N("div",zt,[S(n).locationArray.length?F("",!0):(M(),U(h,{key:0,onOpenOption:e,placeholder:"What is your position"})),S(n).locationArray.length?(M(),U(u,{key:1,onOpenOption:e,placeholder:"What is your position"})):F("",!0),S(a)?F("",!0):(M(!0),N(q,{key:2},G(S(n).locationArray,v=>(M(),U(g,{element:v,key:v.name},null,8,["element"]))),128))])}}});export{$t as default};
