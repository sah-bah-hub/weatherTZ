var he=Object.defineProperty;var fe=(t,n,a)=>n in t?he(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var b=(t,n,a)=>fe(t,typeof n!="symbol"?n+"":n,a);import{a as pe,L as H,r as k,M as me,N as ye,O as ge,P as we,G as O,Q,R as ve,S,K as _e,T as be,i as ne,U as z,V as xe,W as Se,X as Le,d as P,t as M,v as N,x as y,Y as ae,Z as Ce,$ as re,a0 as j,a1 as X,a2 as q,a3 as Y,a4 as U,y as C,a5 as Me,a6 as F,B as J,z as ke,a7 as Be,o as Ne,a8 as R}from"./Du4ia7rZ.js";const ee=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function Ie(t,n){n?n={...ee,...n}:n=ee;const a=ie(n);return a.dispatch(t),a.toString()}const Ee=Object.freeze(["prototype","__proto__","constructor"]);function ie(t){let n="",a=new Map;const s=e=>{n+=e};return{toString(){return n},getContext(){return a},dispatch(e){return t.replacer&&(e=t.replacer(e)),this[e===null?"null":typeof e](e)},object(e){if(e&&typeof e.toJSON=="function")return this.object(e.toJSON());const r=Object.prototype.toString.call(e);let o="";const h=r.length;h<10?o="unknown:["+r+"]":o=r.slice(8,h-1),o=o.toLowerCase();let u=null;if((u=a.get(e))===void 0)a.set(e,a.size);else return this.dispatch("[CIRCULAR:"+u+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(e))return s("buffer:"),s(e.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")this[o]?this[o](e):t.ignoreUnknown||this.unkown(e,o);else{let g=Object.keys(e);t.unorderedObjects&&(g=g.sort());let _=[];t.respectType!==!1&&!te(e)&&(_=Ee),t.excludeKeys&&(g=g.filter(l=>!t.excludeKeys(l)),_=_.filter(l=>!t.excludeKeys(l))),s("object:"+(g.length+_.length)+":");const f=l=>{this.dispatch(l),s(":"),t.excludeValues||this.dispatch(e[l]),s(",")};for(const l of g)f(l);for(const l of _)f(l)}},array(e,r){if(r=r===void 0?t.unorderedArrays!==!1:r,s("array:"+e.length+":"),!r||e.length<=1){for(const u of e)this.dispatch(u);return}const o=new Map,h=e.map(u=>{const g=ie(t);g.dispatch(u);for(const[_,f]of g.getContext())o.set(_,f);return g.toString()});return a=o,h.sort(),this.array(h,!1)},date(e){return s("date:"+e.toJSON())},symbol(e){return s("symbol:"+e.toString())},unkown(e,r){if(s(r),!!e&&(s(":"),e&&typeof e.entries=="function"))return this.array(Array.from(e.entries()),!0)},error(e){return s("error:"+e.toString())},boolean(e){return s("bool:"+e)},string(e){s("string:"+e.length+":"),s(e)},function(e){s("fn:"),te(e)?this.dispatch("[native]"):this.dispatch(e.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(e.name)),t.respectFunctionProperties&&this.object(e)},number(e){return s("number:"+e)},xml(e){return s("xml:"+e.toString())},null(){return s("Null")},undefined(){return s("Undefined")},regexp(e){return s("regex:"+e.toString())},uint8array(e){return s("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},uint8clampedarray(e){return s("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},int8array(e){return s("int8array:"),this.dispatch(Array.prototype.slice.call(e))},uint16array(e){return s("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},int16array(e){return s("int16array:"),this.dispatch(Array.prototype.slice.call(e))},uint32array(e){return s("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},int32array(e){return s("int32array:"),this.dispatch(Array.prototype.slice.call(e))},float32array(e){return s("float32array:"),this.dispatch(Array.prototype.slice.call(e))},float64array(e){return s("float64array:"),this.dispatch(Array.prototype.slice.call(e))},arraybuffer(e){return s("arraybuffer:"),this.dispatch(new Uint8Array(e))},url(e){return s("url:"+e.toString())},map(e){s("map:");const r=[...e];return this.array(r,t.unorderedSets!==!1)},set(e){s("set:");const r=[...e];return this.array(r,t.unorderedSets!==!1)},file(e){return s("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},blob(){if(t.ignoreUnknown)return s("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return s("domwindow")},bigint(e){return s("bigint:"+e.toString())},process(){return s("process")},timer(){return s("timer")},pipe(){return s("pipe")},tcp(){return s("tcp")},udp(){return s("udp")},tty(){return s("tty")},statwatcher(){return s("statwatcher")},securecontext(){return s("securecontext")},connection(){return s("connection")},zlib(){return s("zlib")},context(){return s("context")},nodescript(){return s("nodescript")},httpparser(){return s("httpparser")},dataview(){return s("dataview")},signal(){return s("signal")},fsevent(){return s("fsevent")},tlswrap(){return s("tlswrap")}}}const oe="[native code] }",De=oe.length;function te(t){return typeof t!="function"?!1:Function.prototype.toString.call(t).slice(-De)===oe}class E{constructor(n,a){n=this.words=n||[],this.sigBytes=a===void 0?n.length*4:a}toString(n){return(n||Te).stringify(this)}concat(n){if(this.clamp(),this.sigBytes%4)for(let a=0;a<n.sigBytes;a++){const s=n.words[a>>>2]>>>24-a%4*8&255;this.words[this.sigBytes+a>>>2]|=s<<24-(this.sigBytes+a)%4*8}else for(let a=0;a<n.sigBytes;a+=4)this.words[this.sigBytes+a>>>2]=n.words[a>>>2];return this.sigBytes+=n.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new E([...this.words])}}const Te={stringify(t){const n=[];for(let a=0;a<t.sigBytes;a++){const s=t.words[a>>>2]>>>24-a%4*8&255;n.push((s>>>4).toString(16),(s&15).toString(16))}return n.join("")}},ze={stringify(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=[];for(let s=0;s<t.sigBytes;s+=3){const e=t.words[s>>>2]>>>24-s%4*8&255,r=t.words[s+1>>>2]>>>24-(s+1)%4*8&255,o=t.words[s+2>>>2]>>>24-(s+2)%4*8&255,h=e<<16|r<<8|o;for(let u=0;u<4&&s*8+u*6<t.sigBytes*8;u++)a.push(n.charAt(h>>>6*(3-u)&63))}return a.join("")}},Oe={parse(t){const n=t.length,a=[];for(let s=0;s<n;s++)a[s>>>2]|=(t.charCodeAt(s)&255)<<24-s%4*8;return new E(a,n)}},He={parse(t){return Oe.parse(unescape(encodeURIComponent(t)))}};class $e{constructor(){this._data=new E,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new E,this._nDataBytes=0}_append(n){typeof n=="string"&&(n=He.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes}_doProcessBlock(n,a){}_process(n){let a,s=this._data.sigBytes/(this.blockSize*4);n?s=Math.ceil(s):s=Math.max((s|0)-this._minBufferSize,0);const e=s*this.blockSize,r=Math.min(e*4,this._data.sigBytes);if(e){for(let o=0;o<e;o+=this.blockSize)this._doProcessBlock(this._data.words,o);a=this._data.words.splice(0,e),this._data.sigBytes-=r}return new E(a,r)}}class We extends $e{update(n){return this._append(n),this._process(),this}finalize(n){n&&this._append(n)}}const se=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Fe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],T=[];class Ve extends We{constructor(){super(...arguments),this._hash=new E([...se])}reset(){super.reset(),this._hash=new E([...se])}_doProcessBlock(n,a){const s=this._hash.words;let e=s[0],r=s[1],o=s[2],h=s[3],u=s[4],g=s[5],_=s[6],f=s[7];for(let l=0;l<64;l++){if(l<16)T[l]=n[a+l]|0;else{const p=T[l-15],B=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,x=T[l-2],$=(x<<15|x>>>17)^(x<<13|x>>>19)^x>>>10;T[l]=B+T[l-7]+$+T[l-16]}const d=u&g^~u&_,c=e&r^e&o^r&o,i=(e<<30|e>>>2)^(e<<19|e>>>13)^(e<<10|e>>>22),m=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),v=f+m+d+Fe[l]+T[l],w=i+c;f=_,_=g,g=u,u=h+v|0,h=o,o=r,r=e,e=v+w|0}s[0]=s[0]+e|0,s[1]=s[1]+r|0,s[2]=s[2]+o|0,s[3]=s[3]+h|0,s[4]=s[4]+u|0,s[5]=s[5]+g|0,s[6]=s[6]+_|0,s[7]=s[7]+f|0}finalize(n){super.finalize(n);const a=this._nDataBytes*8,s=this._data.sigBytes*8;return this._data.words[s>>>5]|=128<<24-s%32,this._data.words[(s+64>>>9<<4)+14]=Math.floor(a/4294967296),this._data.words[(s+64>>>9<<4)+15]=a,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function Pe(t){return new Ve().finalize(t).toString(ze)}function Ae(t,n={}){const a=typeof t=="string"?t:Ie(t,n);return Pe(a).slice(0,10)}const je=t=>t==="defer"||t===!1;function Re(...t){var i;const n=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(n);let[a,s,e={}]=t;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const r=pe(),o=s,h=()=>H.value,u=()=>r.isHydrating?r.payload.data[a]:r.static.data[a];e.server=e.server??!0,e.default=e.default??h,e.getCachedData=e.getCachedData??u,e.lazy=e.lazy??!1,e.immediate=e.immediate??!0,e.deep=e.deep??H.deep,e.dedupe=e.dedupe??"cancel";const g=e.getCachedData(a,r),_=g!=null;if(!r._asyncData[a]||!e.immediate){(i=r.payload._errors)[a]??(i[a]=H.errorValue);const m=e.deep?k:me;r._asyncData[a]={data:m(_?g:e.default()),pending:k(!_),error:ye(r.payload._errors,a),status:k("idle"),_default:e.default}}const f={...r._asyncData[a]};delete f._default,f.refresh=f.execute=(m={})=>{if(r._asyncDataPromises[a]){if(je(m.dedupe??e.dedupe))return r._asyncDataPromises[a];r._asyncDataPromises[a].cancelled=!0}if(m._initial||r.isHydrating&&m._initial!==!1){const w=m._initial?g:e.getCachedData(a,r);if(w!=null)return Promise.resolve(w)}f.pending.value=!0,f.status.value="pending";const v=new Promise((w,p)=>{try{w(o(r))}catch(B){p(B)}}).then(async w=>{if(v.cancelled)return r._asyncDataPromises[a];let p=w;e.transform&&(p=await e.transform(w)),e.pick&&(p=Je(p,e.pick)),r.payload.data[a]=p,f.data.value=p,f.error.value=H.errorValue,f.status.value="success"}).catch(w=>{if(v.cancelled)return r._asyncDataPromises[a];f.error.value=ve(w),f.data.value=S(e.default()),f.status.value="error"}).finally(()=>{v.cancelled||(f.pending.value=!1,delete r._asyncDataPromises[a])});return r._asyncDataPromises[a]=v,r._asyncDataPromises[a]},f.clear=()=>Ue(r,a);const l=()=>f.refresh({_initial:!0}),d=e.server!==!1&&r.payload.serverRendered;{const m=_e();if(m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const p=m._nuxtOnBeforeMountCbs;ge(()=>{p.forEach(B=>{B()}),p.splice(0,p.length)}),we(()=>p.splice(0,p.length))}d&&r.isHydrating&&(f.error.value||g!=null)?(f.pending.value=!1,f.status.value=f.error.value?"error":"success"):m&&(r.payload.serverRendered&&r.isHydrating||e.lazy)&&e.immediate?m._nuxtOnBeforeMountCbs.push(l):e.immediate&&l();const v=be();if(e.watch){const p=O(e.watch,()=>f.refresh());v&&Q(p)}const w=r.hook("app:data:refresh",async p=>{(!p||p.includes(a))&&await f.refresh()});v&&Q(w)}const c=Promise.resolve(r._asyncDataPromises[a]).then(()=>f);return Object.assign(c,f),c}function Ue(t,n){n in t.payload.data&&(t.payload.data[n]=void 0),n in t.payload._errors&&(t.payload._errors[n]=H.errorValue),t._asyncData[n]&&(t._asyncData[n].data.value=void 0,t._asyncData[n].error.value=H.errorValue,t._asyncData[n].pending.value=!1,t._asyncData[n].status.value="idle"),n in t._asyncDataPromises&&(t._asyncDataPromises[n]&&(t._asyncDataPromises[n].cancelled=!0),t._asyncDataPromises[n]=void 0)}function Je(t,n){const a={};for(const s of n)a[s]=t[s];return a}function Z(t,n,a){const[s={},e]=typeof n=="string"?[{},n]:[n,a],r=ne(()=>z(t)),o=s.key||Ae([e,typeof r.value=="string"?r.value:"",...Ze(s)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!t)throw new Error("[nuxt] [useFetch] request is missing.");const h=o===e?"$f"+o:o;if(!s.baseURL&&typeof r.value=="string"&&r.value[0]==="/"&&r.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:u,lazy:g,default:_,transform:f,pick:l,watch:d,immediate:c,getCachedData:i,deep:m,dedupe:v,...w}=s,p=xe({...Se,...w,cache:typeof s.cache=="boolean"?void 0:s.cache}),B={server:u,lazy:g,default:_,transform:f,pick:l,immediate:c,getCachedData:i,deep:m,dedupe:v,watch:d===!1?[]:[p,r,...d||[]]};let x;return Re(h,()=>{var V;(V=x==null?void 0:x.abort)==null||V.call(x,"Request aborted as another request to the same endpoint was initiated."),x=typeof AbortController<"u"?new AbortController:{};const L=z(s.timeout);let D;return L&&(D=setTimeout(()=>x.abort("Request aborted due to timeout."),L),x.signal.onabort=()=>clearTimeout(D)),(s.$fetch||globalThis.$fetch)(r.value,{signal:x.signal,...p}).finally(()=>{clearTimeout(D)})},B)}function Ze(t){var a;const n=[((a=z(t.method))==null?void 0:a.toUpperCase())||"GET",z(t.baseURL)];for(const s of[t.params||t.query]){const e=z(s);if(!e)continue;const r={};for(const[o,h]of Object.entries(e))r[z(o)]=z(h);n.push(r)}return n}const qe="data:image/svg+xml,%3csvg%20width='16px'%20height='16px'%20viewBox='0%200%2016%2016'%20class='bi%20bi-arrow-return-left'%20fill='currentColor'%20xmlns='http://www.w3.org/2000/svg'%20style='fill:%20%234d4c4b'%3e%3cpath%20fill-rule='evenodd'%20d='M14.5%201.5a.5.5%200%200%201%20.5.5v4.8a2.5%202.5%200%200%201-2.5%202.5H2.707l3.347%203.346a.5.5%200%200%201-.708.708l-4.2-4.2a.5.5%200%200%201%200-.708l4-4a.5.5%200%201%201%20.708.708L2.707%208.3H12.5A1.5%201.5%200%200%200%2014%206.8V2a.5.5%200%200%201%20.5-.5z'/%3e%3c/svg%3e";class ce{constructor(n){b(this,"name");b(this,"lat");b(this,"lon");n.country?this.name=`${n.name}, ${n.country}`:this.name=n.name,this.lat=n.lat||n.coord.lat,this.lon=n.lon||n.coord.lon}}var le=(t=>(t[t.N=0]="N",t[t.NNE=1]="NNE",t[t.NE=2]="NE",t[t.ENE=3]="ENE",t[t.E=4]="E",t[t.ESE=5]="ESE",t[t.SE=6]="SE",t[t.SSE=7]="SSE",t[t.S=8]="S",t[t.SSW=9]="SSW",t[t.SW=10]="SW",t[t.WSW=11]="WSW",t[t.W=12]="W",t[t.WNW=13]="WNW",t[t.NW=14]="NW",t[t.NNW=15]="NNW",t))(le||{});function Ye(){var a;if(window){var t=window.localStorage.getItem("locations"),n=t==null||t==null?0:(a=window.localStorage.getItem("locations"))==null?void 0:a.length;return()=>(n++,n-1)}}const Ge=Ye();class de{constructor(n){b(this,"name");b(this,"index");b(this,"imgSrc");b(this,"temperature");b(this,"temperatureF");b(this,"feelsLike");b(this,"feelsLikeF");b(this,"description");b(this,"windType");b(this,"wind");b(this,"pressure");b(this,"humidity");b(this,"dewPoint");b(this,"visibility");b(this,"updateTime");b(this,"coord");this.name=`${n.name}, ${n.sys.country}`,this.index=Ge(),this.imgSrc=`http://openweathermap.org/img/wn/${n.weather[0].icon}@2x.png`,this.temperature=n.main.temp.toFixed(1),this.temperatureF=(n.main.temp*(9/5)+32).toFixed(1),this.feelsLike=n.main.feels_like.toFixed(1),this.feelsLikeF=(n.main.feels_like*(9/5)+32).toFixed(1),this.description=n.weather[0].description,this.windType="";var a=n.wind.speed/1e3*3600;switch(!0){case a<2:this.windType="calm";break;case a<5:this.windType="Light air";break;case a<11:this.windType="Light breeze";break;case a<19:this.windType="Gentle breeze";break;case a<28:this.windType="Moderate breeze";break;case a<38:this.windType="Fresh breeze";break;case a<49:this.windType="Strong breeze";break;case a<61:this.windType="High wind";break;case a<74:this.windType="Gale";break;case a<88:this.windType="Strong gale";break;case a<102:this.windType="Storm";break;case a<117:this.windType="Violent storm";break;default:this.windType="Hurricane force"}this.wind={speed:n.wind.speed.toFixed(1),deg:n.wind.deg,direction:le[Math.round((n.wind.deg-22.5)/22.5)]},this.pressure=n.main.pressure,this.humidity=n.main.humidity;var s=17.27*n.main.temp/(237.7+n.main.temp)+Math.log(n.main.humidity/100);this.dewPoint=Math.round(237.7*s/(17.27-s)),this.visibility=n.visibility/1e3,this.updateTime=new Date().toJSON(),this.coord=n.coord}}const A=Le("Store",()=>{const t=k([]),n=k("C"),a=k([]);O(t,h=>{window.localStorage.setItem("locations",JSON.stringify(h))},{deep:!0}),O(n,h=>{window.localStorage.setItem("measurement",JSON.stringify(h))}),O(a,h=>{window.localStorage.setItem("searchHistory",JSON.stringify(h))},{deep:!0});const s=async h=>{try{let u=`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=e8157b3a99bf0d5c82e7c5b17138366c&units=metric`;const{data:g,error:_}=await Z(u,"$NV04Wwn8EP"),f=g.value;f?(r(h),o(new de(f))):console.error("Ошибка в ответе при получении данных:",_.value)}catch(u){u.response?console.error("Ошибка ответа сервера:",u.response.status,u.response.data):u.request?console.error("Ошибка запроса:",u.request):console.error("Неизвестная ошибка:",u.message)}},e=()=>{t.value.sort((h,u)=>h.index-u.index)},r=h=>{t.value=t.value.filter(u=>u!=h)},o=h=>{t.value.push(h)};return{locationArray:t,measurement:n,searchHistory:a,sortCities:e,deliteCity:r,addLocation:o,updateWeater:s}}),Ke={class:"find-component"},Qe=y("div",{class:"find-component__title"}," Add location:",-1),Xe={class:"find-component__search-container"},et={class:"find-component__input-container"},tt=["placeholder"],st={class:"find-component__sities"},nt=["onClick"],at=y("img",{class:"find-component__enter",src:qe,alt:"enter icon"},null,-1),ue=P({__name:"FindCity",props:["placeholder"],setup(t){const n=A(),a=t,s=k(""),e=k([]),r=k(""),o=k(!1);O(s,d=>{if(d!=""){l(d);return}e.value=[]});const h=ne(()=>o.value&&!s.value?n.searchHistory.filter(d=>!n.locationArray.map(c=>c.name).includes(d.name)):e.value),u=()=>{setTimeout(()=>o.value=!1,150)},g=d=>{if(!(e.value.length-1))return;let c=document.querySelector(".find-component__input-container .find-component__sity--selected");const i=d=="down"?1:-1;if(c==null){const B=d=="down"?"first-child":"last-child";c=document.querySelector(`.find-component__sities p:${B}`),r.value=c.innerText;return}var m=c.parentElement;let v=Array.from(m.childNodes);var w=v.indexOf(c),p=w+i;switch(!0){case p<0:p=m.childNodes.length-1;break;case p>m.childNodes.length-1:p=0;break}r.value=v[p].innerText},_=d=>{if(d!=null&&d.lat&&(d!=null&&d.lon)){f(d.lat,d.lon);return}if(h.value.length!=0){var c=null,i=document.querySelector(".find-component__input-container .find-component__sity--selected");i==null?c=e.value[0]:c=e.value.find(m=>m.name==i.innerText),f(c.lat,c.lon)}},f=async(d,c)=>{try{let i=`https://api.openweathermap.org/data/2.5/weather?lat=${d}&lon=${c}&appid=e8157b3a99bf0d5c82e7c5b17138366c&units=metric`;const{data:m,error:v}=await Z(i,"$UFWEJiuFPa"),w=m.value;w?(n.addLocation(new de(w)),s.value=""):console.error("Ошибка в ответе при получении данных:",v.value)}catch(i){i.response?console.error("Ошибка ответа сервера:",i.response.status,i.response.data):i.request?console.error("Ошибка запроса:",i.request):console.error("Неизвестная ошибка:",i.message)}},l=async d=>{try{let i=`https://api.openweathermap.org/geo/1.0/direct?q=${d}&limit=5&appid=e8157b3a99bf0d5c82e7c5b17138366c`;const{data:m,error:v}=await Z(i,"$VH83xdDV7C"),w=m.value;if(w){var c=[];w.forEach(p=>{c.push(new ce(p))}),e.value=c}else console.error("Ошибка в ответе при получении данных:",v.value)}catch(i){i.response?console.error("Ошибка ответа сервера:",i.response.status,i.response.data):i.request?console.error("Ошибка запроса:",i.request):console.error("Неизвестная ошибка:",i.message)}};return(d,c)=>(M(),N("div",Ke,[Qe,y("div",Xe,[y("div",et,[ae(y("input",{class:"find-component__input",type:"text","onUpdate:modelValue":c[0]||(c[0]=i=>re(s)?s.value=i:null),placeholder:a.placeholder,onKeyup:[j(_,["enter"]),c[1]||(c[1]=j(X(i=>g("up"),["prevent"]),["up"])),c[2]||(c[2]=j(X(i=>g("down"),["prevent"]),["down"]))],onFocusin:c[3]||(c[3]=i=>o.value=!0),onFocusout:c[4]||(c[4]=()=>u())},null,40,tt),[[Ce,S(s)]]),y("div",st,[(M(!0),N(q,null,Y(S(h),(i,m)=>(M(),N("p",{class:U(["find-component__sity",S(r)===i.name?"find-component__sity--selected":""]),onClick:v=>_(i),key:m+i.lat},C(i.name),11,nt))),128))])]),at])]))}}),rt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20style='fill:%20%234d4c4b'%3e%3cpath%20d='M24%2013.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433%201.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582%201.635-.749%202.692-2.019%203.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285%202.285c.745%201.568%201.375%202.434.847%203.707-.527%201.271-1.584%201.438-3.219%202.02v3.232c1.632.58%202.692.749%203.219%202.019.53%201.282-.114%202.166-.847%203.707l2.285%202.286c1.562-.743%202.434-1.375%203.707-.847h.001c1.27.526%201.436%201.579%202.019%203.219h3.232c.582-1.636.75-2.69%202.027-3.222h.001c1.262-.524%202.12.101%203.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271%201.588-1.44%203.221-2.021zm-12%202.384c-2.209%200-4-1.791-4-4s1.791-4%204-4%204%201.791%204%204-1.791%204-4%204z'/%3e%3c/svg%3e",it="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyBmaWxsOkRhcmtHcmF5ICIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNNCwxMGgyNGMxLjEwNCwwLDItMC44OTYsMi0ycy0wLjg5Ni0yLTItMkg0QzIuODk2LDYsMiw2Ljg5NiwyLDhTMi44OTYsMTAsNCwxMHogTTI4LDE0SDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDIgIHMwLjg5NiwyLDIsMmgyNGMxLjEwNCwwLDItMC44OTYsMi0yUzI5LjEwNCwxNCwyOCwxNHogTTI4LDIySDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDJzMC44OTYsMiwyLDJoMjRjMS4xMDQsMCwyLTAuODk2LDItMiAgUzI5LjEwNCwyMiwyOCwyMnoiLz48L3N2Zz4=",ot="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20110.61%20122.88'%20style='fill:%234d4c4b'%3e%3ctitle%3etrash%3c/title%3e%3cpath%20d='M39.27,58.64a4.74,4.74,0,1,1,9.47,0V93.72a4.74,4.74,0,1,1-9.47,0V58.64Zm63.6-19.86L98,103a22.29,22.29,0,0,1-6.33,14.1,19.41,19.41,0,0,1-13.88,5.78h-45a19.4,19.4,0,0,1-13.86-5.78l0,0A22.31,22.31,0,0,1,12.59,103L7.74,38.78H0V25c0-3.32,1.63-4.58,4.84-4.58H27.58V10.79A10.82,10.82,0,0,1,38.37,0H72.24A10.82,10.82,0,0,1,83,10.79v9.62h23.35a6.19,6.19,0,0,1,1,.06A3.86,3.86,0,0,1,110.59,24c0,.2,0,.38,0,.57V38.78Zm-9.5.17H17.24L22,102.3a12.82,12.82,0,0,0,3.57,8.1l0,0a10,10,0,0,0,7.19,3h45a10.06,10.06,0,0,0,7.19-3,12.8,12.8,0,0,0,3.59-8.1L93.37,39ZM71,20.41V12.05H39.64v8.36ZM61.87,58.64a4.74,4.74,0,1,1,9.47,0V93.72a4.74,4.74,0,1,1-9.47,0V58.64Z'/%3e%3c/svg%3e",ct={class:"settings"},lt={class:"settings__header"},dt=y("div",{class:"settings__title"},"Setting",-1),ut={key:0},ht=y("div",{class:"settings__title"},"Units of measurement:",-1),ft={class:"settings__units"},pt={class:"switch"},mt=y("span",{class:"slider round"},null,-1),yt={key:1,class:"settings__body"},gt=y("div",{class:"settings__title"},"Cities:",-1),wt=["onClick"],vt=P({__name:"Settings",emits:["openOption"],setup(t,{emit:n}){const a=A(),s=n,e=k(!1),r=k([]),o=k(a.measurement==="C"),h=l=>{var d;!r.value.find(c=>c===l)&&l&&((d=r.value)==null||d.push(l))};O(e,()=>{r.value=[]}),O(o,l=>{a.measurement=l?"C":"F"});const u=l=>{a.deliteCity(l),a.searchHistory.find(d=>d.name==l.name)||(a.searchHistory.length>=5&&a.searchHistory.pop(),a.searchHistory.push(new ce(l)))},g=(l,d,c)=>{let i=l;return i>c?i=c:i<d&&(i=d),i},_=l=>{var p;l.preventDefault();var d=l.pageY,c=0,i=(p=l.target)==null?void 0:p.parentElement.parentElement,m=r.value.length,v=r.value.indexOf(i),w=0;if(i.parentElement.childNodes.length!=1){let B=function($){window.removeEventListener("mouseup",B,!1),window.removeEventListener("mousemove",x,!1),i.classList.remove("dragging"),r.value.forEach(L=>{L.style.transform="",L.style.transition="0s"}),a.locationArray[v].index=w>v?w+.5:w-.5,a.sortCities(),a.locationArray.forEach((L,D)=>{L.index=D}),setTimeout(()=>{r.value.forEach(L=>{L.style.transition=""})},1)},x=function($){var L=i.parentElement.offsetHeight/m,D=i.parentElement.offsetHeight,G=D-L*(v+1),V=L*v*-1;c=g($.pageY-d,V,G);var K=Math.round(c/L);switch(w=g(Math.round(c/L)+v,0,m-1),r.value[w].style.transform=`translateY(${g(K,-1,1)*L*-1}px)`,!0){case K==0:r.value.forEach(I=>{I!=i&&(I.style.transform="")});break;case w<v:for(let I=0;I<w;I++){var W=r.value[I];W.style.transform!=""&&(W.style.transform="")}break;case w>v:for(let I=m-1;I>w;I--){var W=r.value[I];W.style.transform!=""&&(W.style.transform="")}break}i.style.transform=`translateY(${c}px)`};i.classList.add("dragging"),window.addEventListener("mousemove",x,!1),window.addEventListener("mouseup",B,!1)}},f=l=>{var c;const d=(c=l.parentNode)==null?void 0:c.parentNode;if(e.value){e.value=!1,s("openOption",!1),d.classList.remove("settings--active");return}e.value=!0,s("openOption",!0),d.classList.add("settings--active")};return(l,d)=>{const c=ue;return M(),N("div",ct,[y("div",lt,[dt,y("img",{class:"settings__ico",src:rt,onClick:d[0]||(d[0]=i=>f(i.target))})]),S(e)?(M(),N("div",ut,[ht,y("div",ft,[y("span",{class:U(["settings__unit-f",S(o)?"":"settings__unit-f--active"])}," °F ",2),y("label",pt,[ae(y("input",{type:"checkbox","onUpdate:modelValue":d[1]||(d[1]=i=>re(o)?o.value=i:null)},null,512),[[Me,S(o)]]),mt]),y("span",{class:U(["settings__unit-c",S(o)?"settings__unit-c--active":""])}," °C ",2)])])):F("",!0),S(e)?(M(),N("div",yt,[gt,y("div",null,[(M(!0),N(q,null,Y(S(a).locationArray,i=>(M(),N("div",{class:"settings__city",key:i.cityName,ref_for:!0,ref:h},[y("div",null,[y("img",{class:"settings__hamburger",src:it,onMousedown:d[2]||(d[2]=m=>_(m))},null,32),J(" "+C(i.name),1)]),y("img",{class:"settings__trash",src:ot,onClick:m=>u(i)},null,8,wt)]))),128))]),ke(c,{placeholder:"What is your position"})])):F("",!0)])}}}),_t="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20style='transform:%20rotate(135deg);fill:%20%234d4c4b'%20baseProfile='tiny'%20height='24px'%20id='Layer_1'%20version='1.2'%20viewBox='2%202%2020%2020'%20width='24px'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%3e%3cpath%20d='M10.368,19.102c0.349,1.049,1.011,1.086,1.478,0.086l5.309-11.375c0.467-1.002,0.034-1.434-0.967-0.967L4.812,12.154%20c-1.001,0.467-0.963,1.129,0.085,1.479L9,15L10.368,19.102z'/%3e%3c/g%3e%3c/svg%3e",bt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Svg%20Vector%20Icons%20:%20http://www.onlinewebfonts.com/icon%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20style='fill:%20%234d4c4b'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%201000%201000'%20enable-background='new%200%200%201000%201000'%20xml:space='preserve'%3e%3cmetadata%3e%20Svg%20Vector%20Icons%20:%20http://www.onlinewebfonts.com/icon%20%3c/metadata%3e%3cg%3e%3cpath%20d='M500,10C229.4,10,10,229.4,10,500c0,270.6,219.4,490,490,490c270.6,0,490-219.4,490-490C990,229.4,770.6,10,500,10L500,10z%20M793.8,793.8c-38.2,38.2-82.6,68.1-132.1,89.1c-51.2,21.6-105.6,32.6-161.7,32.6s-110.5-11-161.7-32.6c-49.5-20.9-93.9-50.9-132.1-89.1c-38.2-38.2-68.1-82.6-89.1-132.1C95.5,610.5,84.5,556.1,84.5,500c0-56.1,11-110.5,32.6-161.7c20.9-49.5,50.9-93.9,89.1-132.1c38.2-38.2,82.6-68.1,132.1-89.1C389.5,95.5,443.9,84.5,500,84.5s110.5,11,161.7,32.6c49.5,20.9,93.9,50.9,132.1,89.1c38.2,38.2,68.2,82.6,89.1,132.1c21.6,51.2,32.6,105.6,32.6,161.7c0,56.1-11,110.5-32.6,161.7C861.9,711.2,832,755.6,793.8,793.8L793.8,793.8z%20M648.5,174c-74.7-34-159.5-41.3-238.8-20.6c-71.5,18.7-137,60.2-184.5,116.9c-49.8,59.5-79.2,134.9-82.9,212.4c-3.8,79.1,19.1,158.2,64.4,222.8l60-38l-28.3-48.2l-28.9,16.9c-22-47.1-32.5-99.4-30-151.7c2-41.5,12.2-82.3,29.6-119.8l30.2,16.8l27.1-48.9l-29.5-16.3c5.3-7.6,10.9-14.9,16.8-22.1c35.7-42.7,82.9-75.8,135.1-95.2l24.5,238.4c-14.3,18.7-22.8,42-22.8,67.3c0,61.3,49.6,110.9,110.9,110.9c61.2,0,110.8-49.6,110.8-110.9c0-52.8-36.9-96.9-86.4-108.1L393.8,197.2c8.3-2.9,16.7-5.5,25.2-7.7c17.7-4.6,35.7-7.7,53.9-9.2l0.3,35.9l55.9-0.5l-0.3-35.2c35.8,3.2,71.1,12.4,104.2,27.5c51.6,23.5,96.9,61.3,129.7,107.8l-30.4,17.8l28.3,48.2l30.2-17.7c25.8,55.3,35.4,117.7,27.2,178.7c-4.4,33-14.2,65.4-28.7,95.6L759.6,622l-27.1,48.9l60,35.5c33.2-47.2,54.7-102,62.3-158.6c10.6-79.1-5.7-160.4-45.9-228.9C771.9,255.7,714.9,204.2,648.5,174L648.5,174z%20M501.5,448.9c30.8,0,55.9,25,55.9,55.8s-25.1,55.9-55.9,55.9c-30.8,0-55.9-25-55.9-55.9S470.6,448.9,501.5,448.9z'/%3e%3c/g%3e%3c/svg%3e",xt={class:"weather-info"},St={class:"weather-info__header"},Lt={class:"weather-info__img-container"},Ct=["src"],Mt={class:"weather-info__temerature"},kt={class:"weather-info__description"},Bt={class:"weather-info__body"},Nt=y("img",{src:bt},null,-1),It=P({__name:"WeatherInfo",props:["element"],setup(t){const n=A();return(a,s)=>(M(),N("div",xt,[y("div",St,C(t.element.name),1),y("div",Lt,[y("img",{class:"weather-info__icon",src:t.element.imgSrc,alt:""},null,8,Ct),y("div",Mt,C(S(n).measurement==="C"?t.element.temperature:t.element.temperatureF)+" °"+C(S(n).measurement),1)]),y("p",kt," Feels like "+C(S(n).measurement==="C"?t.element.feelsLike:t.element.feelsLikeF)+"°"+C(S(n).measurement)+". "+C(t.element.description)+". "+C(t.element.windType),1),y("div",Bt,[y("div",null,[y("div",null,[y("img",{style:Be("transform: rotate("+t.element.wind.deg+"deg);"),class:"weather-info__description-ico",src:_t},null,4),J(" "+C(t.element.wind.speed)+"m/s "+C(t.element.wind.direction),1)]),y("div",null,[Nt,J(" "+C(t.element.pressure)+"hPa ",1)])]),y("div",null,[y("div",null,"Humidity: "+C(t.element.humidity)+"%",1),y("div",null,"Dew point: "+C(t.element.dewPoint)+"°C",1)]),y("div",null,"Visibility: "+C(t.element.visibility)+"km",1)])]))}}),Et=window.setInterval,Dt={class:"container"},Ot=P({__name:"index",setup(t){const n=A(),a=k(!1);Ne(()=>{const r=JSON.parse(window.localStorage.getItem("locations")),o=JSON.parse(window.localStorage.getItem("measurement")),h=JSON.parse(window.localStorage.getItem("searchHistory"));r!=null&&(n.locationArray=r),o!=null&&(n.measurement=o),h!=null&&(n.searchHistory=h),s(),Et(async()=>{s()},36e5)});const s=async()=>{for(const r of n.locationArray)r.updateTime&&new Date(r.updateTime)<new Date(new Date().setHours(new Date().getHours()-1))&&await n.updateWeater(r)},e=r=>{a.value=r};return(r,o)=>{const h=ue,u=vt,g=It;return M(),N("div",Dt,[S(n).locationArray.length?F("",!0):(M(),R(h,{key:0,onOpenOption:e,placeholder:"What is your position"})),S(n).locationArray.length?(M(),R(u,{key:1,onOpenOption:e,placeholder:"What is your position"})):F("",!0),S(a)?F("",!0):(M(!0),N(q,{key:2},Y(S(n).locationArray,_=>(M(),R(g,{element:_,key:_.name},null,8,["element"]))),128))])}}});export{Ot as default};
